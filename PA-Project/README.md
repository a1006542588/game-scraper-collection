# PA Scraper - 使用说明

[![Version](https://img.shields.io/badge/version-8.7.0-blue.svg)](https://github.com/a1006542588/game-scraper-collection)
[![Platform](https://img.shields.io/badge/platform-PlayerAuctions-orange.svg)](https://www.playerauctions.com)

> PlayerAuctions.com 游戏交易平台数据采集工具

---

## 🚀 快速安装

**点击安装**: [pa-scraper.user.js](https://github.com/a1006542588/game-scraper-collection/raw/main/PA-Project/pa-scraper.user.js)

---

## ✨ 主要功能

- 🎮 **多游戏支持** - 支持各种游戏类型
- 🔄 **智能分页** - 自动翻页采集数据
- 🛡️ **Cloudflare 验证** - 自动处理 CF 验证
- 💾 **CSV/JSON 导出** - 双格式导出
- 📊 **实时统计** - 商品数量实时显示
- 🎨 **深色主题** - 美观的侧边栏界面

---

## 📝 使用教程

### 第一步：打开面板

```
1. 访问 PlayerAuctions.com

2. 页面右侧会出现深色主题的侧边栏

3. 点击左侧紫色按钮可展开/收起面板
```

### 第二步：爬取商品数据

```
1. 进入任意游戏的商品列表页面

2. 在侧边栏中选择爬取模式:
   • 当前页 - 只爬当前页面
   • 多页 - 输入页数（如 5 页）
   • 全部 - 爬取所有页面

3. 点击"开始爬取"按钮

4. 查看实时进度和统计
```

**预期结果**:
- 当前页: 约 20-30 条商品
- 多页(5页): 约 100-150 条商品
- 全部: 数百条商品

### 第三步：导出数据

```
1. 爬取完成后，点击"导出 CSV"或"导出 JSON"

2. 文件会自动下载到本地

3. CSV 文件可用 Excel 打开
```

---

## 📊 数据字段说明

| 字段 | 说明 | 示例 |
|-----|------|------|
| 商品标题 | 商品名称 | WoW Gold 1000K |
| 商品链接 | 详情页链接 | https://www.playerauctions.com/... |
| 卖家信息 | 卖家名称 | SellerName |
| 价格 | 商品价格 | 29.99 |
| 货币 | 货币类型 | USD |
| 商品状态 | 在售状态 | Available |
| 发布时间 | 发布日期 | 2025-10-06 |

---

## 💡 使用技巧

### 爬取模式选择

| 模式 | 适用场景 | 时间 |
|-----|---------|------|
| 当前页 | 快速测试 | 5-10秒 |
| 多页(5页) | 中等数据 | 30-60秒 |
| 全部 | 完整数据集 | 2-10分钟 |

### URL 去重

脚本会自动去除重复的商品链接，确保数据唯一性。

### Cloudflare 验证

如遇 Cloudflare 验证：
1. 手动完成一次验证
2. 脚本会记录验证信息
3. 后续自动处理

---

## ❓ 常见问题

### Q: 侧边栏没有显示？

**A**: 
1. 确认 Tampermonkey 已启用
2. 刷新页面（F5）
3. 检查是否在商品列表页面

### Q: 爬取速度慢？

**A**: 
- 检查网络连接
- 页面加载需要时间
- 可以使用"当前页"模式快速测试

### Q: Cloudflare 验证失败？

**A**: 
1. 手动完成一次验证
2. 等待几秒后重试
3. 检查是否使用最新版本

### Q: 数据不完整？

**A**: 
- 某些页面可能缺少部分字段（正常）
- 查看控制台（F12）是否有错误
- 尝试降低爬取页数

### Q: 导出的文件打不开？

**A**: 
- **CSV**: 用 Excel 打开，选择 UTF-8 编码
- **JSON**: 用文本编辑器或 VS Code 打开

---

## 🔧 技术说明

### 数据存储

- 存储位置: Tampermonkey 本地存储
- 存储格式: JSON
- 建议定期导出并清除

### 性能优化

- **智能分页**: 自动检测下一页
- **URL 去重**: 避免重复数据
- **超时保护**: 网络慢时自动重试

---

## 📄 更新日志

### v8.7.0 (2025-10-06)
- ✨ 优化数据采集逻辑
- 🐛 修复分页问题
- ✨ 改进 Cloudflare 验证

### v8.0
- ✨ 重构界面，深色主题
- ✨ 添加实时统计
- ✨ CSV/JSON 导出

---

## 📞 支持

遇到问题？

- [提交 Issue](https://github.com/a1006542588/game-scraper-collection/issues)

---

## 📜 许可证

MIT License

---

**返回**: [主页](../README.md) | **版本**: v8.7.0 | **更新**: 2025-10-06
